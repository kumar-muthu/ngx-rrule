
<form [formGroup]="form" class="form-inline">
  <div class="row">
    <div class="form-group col-lg-12">
      <label class="mr-2">Ends</label>
      <select  formControlName="mode" class="form-control">
        <option value="Never">Never</option>
        <option value="After">After</option>
        <option value="On date">On date</option>
      </select>
      <div *ngIf="form.value.mode === 'After'">
        <div class="form-group m-0 row d-flex align-items-center">
          <input formControlName="after"  aria-label="End after"
                 class="form-control ml-2" />
          <label class="ml-1">occurrences</label>
        </div>
      </div>
      <input  *ngIf="form.value.mode == 'On date'" [minDate]="minEndDate" [maxDate]="maxEndDate" class="form-control ml-2" formControlName="endAt" placeholder="yyyy-mm-dd"
              ngbDatepicker #d="ngbDatepicker" (click)="d.toggle()">
    </div>
  </div>
</form>

